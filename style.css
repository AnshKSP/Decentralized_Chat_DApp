body {
  font-family: 'Montserrat', Arial, sans-serif;
  background: linear-gradient(135deg, #18122b 0%, #2d3250 50%, #8f43ee 100%);
  margin: 0;
  min-height: 100vh; width: 100vw;
}
#wrapper { display: flex; flex-direction: column; height: 100vh; width: 100vw; }
.header {
  background: linear-gradient(90deg, #31206b 0%, #8e42ff 100%);
  color: #fff; font-size: 1.5em; font-weight: 700; padding: 17px 32px;
  display: flex; align-items: center; justify-content: flex-start;
  letter-spacing: -1px; box-shadow: 0 2px 16px #351f5330;
}
.chatArea { display: flex; flex: 1 1 auto; min-height: 0; }
.sidebar {
  width: 245px; background: rgba(44,43,72,0.89);
  border-right: 1px solid #5e42a2;
  padding: 18px 16px 0 16px; box-sizing: border-box;
  position: relative; display: flex; flex-direction: column; align-items: flex-start;
  justify-content: flex-start; min-width: 160px; height: 100%;
}
#connectBtn {
  background: linear-gradient(90deg,#8f43ee 70%, #34206c 100%);
  color: #fff; font-size: 1em; font-weight:600; padding: 10px 0;
  border-radius: 10px; border:none; margin-bottom: 9px;
  box-shadow: 0 2px 8px #7759ee3c; cursor:pointer;
  background-size:200% 100%; background-position:left; width:100%;
  transition: background-position .37s, box-shadow .19s, transform .18s;
  min-height: 37px; max-height: 41px;
}
#connectBtn:hover { background-position:right; box-shadow:0 6px 16px #4d328b3a; transform:scale(1.02);}
.connection-bar {
  background: #111; color: #fff; font-family: monospace;
  padding: 6px 10px; border-radius: 8px; margin: 7px 0 0 0; font-size: 0.91em;
  box-shadow: 0 0 9px #26214a35; text-align: center;
  word-break: break-all; max-width: 98%; overflow-wrap: break-word;
  min-height: 23px; margin-bottom: 12px;
}
.sidebar-spacer { flex: 1 1 auto; }
.sidebar-creators-label {
  color: #eee; width: 100%; text-align: center; padding: 2px 0 3px 0; font-size: 1.04em; font-weight: 700;
  letter-spacing: .7px; margin-bottom: 5px;
}
.sidebar-footer-github {
  width: 100%; display: flex; flex-direction: column; gap: 8px;
  margin-bottom: 16px; justify-content: flex-start; align-items: center;
}
.sidebar-footer-github a {
  width: 90%; min-width: 115px; text-align: center;
  padding: 9px 0; border-radius: 9px; background: #19172b;
  color: #fff; text-decoration: none; box-shadow: 0 2px 9px #8f43ee60; font-weight: 600;
  transition: .23s; display: flex; align-items: center; gap: 9px; justify-content: center;
  font-size: 0.98em;
}
.sidebar-footer-github a:hover { background: #3a3890; color: #ffd36f; }
.mainChat { flex: 1 1 0; display: flex; flex-direction: column; padding: 0; background: rgba(30,29,49,0.91); overflow: hidden; }
#messages {
  flex: 1 1 auto; overflow-y: auto;
  padding: 28px 18px 0 22px;
  background: transparent; position: relative;
}
.message {
  background: linear-gradient(135deg, #372963 80%, #8f43ee 100%);
  border-radius: 17px 17px 7px 17px;
  box-shadow: 0 2px 14px #21101d80;
  padding: 12px 20px 12px 50px;
  margin-bottom: 14px; width: fit-content; max-width: 66%; min-width: 30%;
  position: relative; color: #f2f2ff; transition:.3s;
  word-break:break-word;
  background-size: 300% 300%;
  animation: gradientMove 4s ease-in-out infinite;
  font-size: 1.04em;
}
.message .avatar {
  position: absolute; left: 10px; top: 10px; width: 32px; height: 32px; border-radius: 50%; background: #504398; overflow:hidden;
  display: flex; align-items: center; justify-content: center; font-size: 1.05em; font-weight: 700;
  box-shadow: 0 2px 8px #5e42a2;
  border: 2.5px solid #211f2a; color: #fff;
}
.message .ticks {
  color: #ffdd79; font-size: 1.18em; margin-left: 6px; vertical-align: text-bottom;
}
.message.mine {
  background: linear-gradient(110deg, #172180 60%, #4386f6 100%);
  color: #aee7fb;
  margin-left: auto;
  border-radius: 17px 17px 17px 7px;
  padding-left: 18px; padding-right: 29px;
  background-size: 300% 300%;
  animation: gradientMove 4s ease-in-out infinite;
  font-size: 1.04em;
}
.message.mine .avatar { display: none; }
.message.mine .ticks { color: #52c8ff !important;}
@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
.inputArea {
  background: #26214a;
  padding: 13px 22px 11px 22px;
  display: flex; align-items: center; gap: 10px;
  box-shadow: 0 -2px 11px #38277a50;
  position: relative;
}
.inputArea select {
  border-radius: 12px; border: none;
  background: #181432; color: #f8efff;
  padding: 8px 8px;
  font-size: 1.01em; margin-bottom: 0;
  box-shadow: 0 2px 10px #54357e19;
  width: 122px; min-width: 73px; max-width: 143px;
}
.inputArea textarea:focus { background: #232153; color: #fff; border:none; }
.inputArea textarea { font-size: 1.13em; border-radius: 12px; border:none; background: #181432; color: #f8efff; padding:7px 14px; margin-bottom:0; flex:1 1 0; min-height:34px; max-height:67px; box-shadow: 0 2px 10px #54357e19; resize:none;}
.inputArea button#emojiBtn {
  padding: 0 0; background: #8f43ee; min-width:37px; height: 44px; border-radius: 9px;
  box-shadow: 0 1px 7px #31206b40; font-size: 1.26em; color: #fff; border: none; margin-left: 3px;
  display: flex; align-items: center; justify-content: center;
}
.inputArea button#emojiBtn:hover { background: #31206b; color: #ffd36f; }
.inputArea button[type="submit"] {
  border: none;
  background: linear-gradient(90deg, #8f43ee 60%, #31206b 100%);
  color: #fff; font-size:1.14em; font-weight:700;
  padding:10px 18px; border-radius:11px;
  box-shadow:0 2px 7px #6a869a50; cursor:pointer; transition:.3s;
  background-size:200% 100%; background-position:left;
  display:inline-flex; align-items:center; gap:7px;
  min-width:43px; min-height:43px; justify-content:center;
}
.inputArea button[type="submit"]:hover {background-position:right; transform:scale(.99);}
.emoji-popup {
  position: absolute;
  bottom: 57px; right: 124px;
  background: #22203a;
  border-radius: 10px;
  padding: 13px 10px 9px 10px;
  box-shadow: 0 3px 18px #111b;
  display: none;
  z-index: 1002;
  min-width: 220px;
  font-size: 1.38em;
  color: #fff;
  gap: 10px 9px;
  flex-wrap: wrap;
  max-width:249px;
  max-height:255px;
  overflow-y: auto;
  user-select:none;
  border: 1.7px solid #31206b;
}
.emoji-search {
  border: none;
  background: #19172b;
  border-radius: 7px; color: #fff; font-size: 0.97em;
  width: 96%; margin-bottom: 3px; padding: 7px 11px;
  outline: none; box-shadow: 0 2px 9px #4448;
}
.emoji-list { display: flex; flex-wrap: wrap; gap: 4px 8px; }
.emoji-list span {
  display: inline-block; cursor: pointer; margin: 1px 4px 3px 1px;
  font-size: 1.38em; transition: .14s; border-radius: 3.5px; padding: 2px 7px;
}
.emoji-list span:hover { background: #3a3890; }
@media (max-width: 640px) {
  .sidebar { width: 100px; padding:7px; min-width: 70px; }
  .chatArea{flex-direction:column;} .mainChat {padding:0;}
  #messages{padding:10px;} .inputArea{padding:6px;}
  .header{padding:11px;}
  .sidebar-footer-github{font-size:.98em; padding:6px 1px;}
  .inputArea textarea { font-size: 1em;}
  .inputArea select {font-size: 0.97em;}
}
